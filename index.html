<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>今天吃啥？</title>
		<link rel="stylesheet" href="css/demo.css" type="text/css" />
		<link rel="stylesheet" type="text/css" href="css/sweet-alert.css">
		<style type="text/css">
			body { 
				margin: 0; 
				padding: 0; 
				position: relative;
				background-position: center;
				width: 100%; 
				height: 100%; 
				background-size: 100% 100%; 
			}
		</style>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/awardRotate.js"></script>
		<script src="js/sweet-alert.min.js"></script>
		<script type="text/javascript">
			$(function() {
				var rotateTimeOut = function() {
					$('#rotate').rotate({
						angle: 0,
						animateTo: 2160,
						duration: 8000,
						callback: function() {
							alert('超时');
						}
					});
				};

			var bRotate = false;
			var rotateFn = function(awards, angles, txt) {
				bRotate = !bRotate;
				$('#rotate').stopRotate();
				$('#rotate').rotate({
					angle: 0,
					animateTo: angles + 1800,
					duration: 8000,
					callback: function() {
						swal({ title: "那就吃“" + txt + "”吧", imageUrl: "images/gx.png" });
						bRotate = !bRotate;
					}
				})
			};

			$('.pointer').click(function() {
				if (bRotate)return;

				var item = rnd(1, 5);
				switch(item) {
					case 1:
						rotateFn(1, 55, '老家肉饼');
						break;
					case 2:
						rotateFn(2, 140, '李氏黄焖鸡');
						break;
					case 3:
						rotateFn(3, 199, '吉祥面馆');
						break;
					case 4:
						rotateFn(4, 269, '杨国福麻辣烫');
						break;
					case 5:
						rotateFn(5, 341, '村口饺子馆');
						break;
					}
				});
			});

			function rnd(n, m) {
				return Math.floor(Math.random() * (m - n + 1) + n)
			}
		</script>
	</head>
	<body bgcolor="#eae0d9" id="body">
		<div class="couten" style="position:fixed; width:100%; margin:0 auto; text-align:center; padding-top:5%">
			<div class="turntable-bg">
				<div class="pointer"><img src="images/pointer.png" alt="pointer"/></div>
				<div class="rotate" ><img id="rotate" src="images/turntable.png" alt="turntable"/ ></div>
			</div>
		</div>
	</body>
</html>